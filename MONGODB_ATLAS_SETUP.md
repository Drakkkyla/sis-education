# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MongoDB Atlas

MongoDB Atlas - —ç—Ç–æ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å MongoDB, –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (M0) —Å 512 MB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

## üìù –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –∫–ª–∞—Å—Ç–µ—Ä–∞

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ MongoDB Atlas:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.mongodb.com/cloud/atlas
   - –ù–∞–∂–º–∏—Ç–µ "Try Free" –∏–ª–∏ "Sign Up"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä:**
   - –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "Build a Database"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞–Ω **M0 (Free)** - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (AWS, Google Cloud, Azure) –∏ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞—à–µ–º—É —Ö–æ—Å—Ç–∏–Ω–≥—É)
   - –ù–∞–∂–º–∏—Ç–µ "Create"

3. **–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞** (–æ–±—ã—á–Ω–æ 1-3 –º–∏–Ω—É—Ç—ã)

## üîê –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞

### 2.1. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

1. –í –ø–∞–Ω–µ–ª–∏ Atlas –Ω–∞–∂–º–∏—Ç–µ **"Database Access"** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
2. –ù–∞–∂–º–∏—Ç–µ **"Add New Database User"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Password"** –∫–∞–∫ –º–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. –í–≤–µ–¥–∏—Ç–µ:
   - **Username:** –Ω–∞–ø—Ä–∏–º–µ—Ä, `admin` –∏–ª–∏ `kvantorium`
   - **Password:** —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!)
5. –í —Ä–∞–∑–¥–µ–ª–µ **"Database User Privileges"** –≤—ã–±–µ—Ä–∏—Ç–µ **"Atlas admin"** –∏–ª–∏ **"Read and write to any database"**
6. –ù–∞–∂–º–∏—Ç–µ **"Add User"**

### 2.2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Network Access (Whitelist IP):

1. –í –ø–∞–Ω–µ–ª–∏ Atlas –Ω–∞–∂–º–∏—Ç–µ **"Network Access"** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
2. –ù–∞–∂–º–∏—Ç–µ **"Add IP Address"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
   - **"Allow Access from Anywhere"** (0.0.0.0/0) - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
   - **"Add Current IP Address"** - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—à —Ç–µ–∫—É—â–∏–π IP
   - **"Add IP Address"** - –≤—Ä—É—á–Ω—É—é –≤–≤–µ—Å—Ç–∏ IP –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞
4. –ù–∞–∂–º–∏—Ç–µ **"Confirm"**

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ö–æ—Å—Ç–∏–Ω–≥, –¥–æ–±–∞–≤—å—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞. –£–∑–Ω–∞—Ç—å IP –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
curl ifconfig.me
```

## üîó –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ Connection String

1. –í –ø–∞–Ω–µ–ª–∏ Atlas –Ω–∞–∂–º–∏—Ç–µ **"Database"** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
2. –ù–∞–∂–º–∏—Ç–µ **"Connect"** –Ω–∞ –≤–∞—à–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Connect your application"**
4. –í—ã–±–µ—Ä–∏—Ç–µ:
   - **Driver:** Node.js
   - **Version:** 5.5 or later (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Connection String** - –æ–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
   ```
   mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority
   ```

## ‚öôÔ∏è –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### 4.1. –û–±–Ω–æ–≤–∏—Ç–µ Connection String:

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
- `<username>` –Ω–∞ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Å–æ–∑–¥–∞–ª–∏
- `<password>` –Ω–∞ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–±–∞–≤—å—Ç–µ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ü–µ: `...mongodb.net/kvantorium?retryWrites=true&w=majority`

**–ò—Ç–æ–≥–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```
mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/kvantorium?retryWrites=true&w=majority
```

### 4.2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `backend/.env`:

```env
PORT=5000
MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/kvantorium?retryWrites=true&w=majority
JWT_SECRET=–≤–∞—à-—Å–ª—É—á–∞–π–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
NODE_ENV=production
FRONTEND_URL=http://–≤–∞—à-–¥–æ–º–µ–Ω.com
```

**–í–∞–∂–Ω–æ:** 
- –ó–∞–º–µ–Ω–∏—Ç–µ `username`, `password` –∏ `cluster0.xxxxx` –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `kvantorium` - —ç—Ç–æ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –ª—é–±–æ–µ)

### 4.3. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞:

–ï—Å–ª–∏ –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Pterodactyl), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- `MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/kvantorium?retryWrites=true&w=majority`

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   Connected to MongoDB
   ```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `http://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/health`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è: `{"status":"OK","message":"Server is running"}`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ Network Access —Ç–æ–ª—å–∫–æ IP –∞–¥—Ä–µ—Å–∞–º–∏ –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 0.0.0.0/0 –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
3. ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏
4. ‚úÖ –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ Connection String –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
5. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Database Access"**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∂–º–∏—Ç–µ **"Edit"**
3. –ù–∞–∂–º–∏—Ç–µ **"Edit Password"**
4. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
5. –û–±–Ω–æ–≤–∏—Ç–µ `MONGODB_URI` –≤ `.env` —Ñ–∞–π–ª–µ

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í –ø–∞–Ω–µ–ª–∏ Atlas –≤—ã –º–æ–∂–µ—Ç–µ:
- –í–∏–¥–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∞–ª–µ—Ä—Ç—ã
- –î–µ–ª–∞—Ç—å –±—ç–∫–∞–ø—ã (–≤ –ø–ª–∞—Ç–Ω—ã—Ö –ø–ª–∞–Ω–∞—Ö)

## üí∞ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω (M0)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- 512 MB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- –û–±—â–∞—è RAM (—Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ!**

## ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Authentication failed":
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ username –∏ password –≤ Connection String
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –û—à–∏–±–∫–∞ "IP not whitelisted":
- –î–æ–±–∞–≤—å—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –≤ Network Access
- –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 0.0.0.0/0 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û—à–∏–±–∫–∞ "Connection timeout":
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä –∑–∞–ø—É—â–µ–Ω (Status: Running)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Connection String
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –∞–¥—Ä–µ—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ whitelist

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MongoDB Atlas –≤–∞—à –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–ª–∞—á–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.

