# –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω (backend/dist/ –∏ frontend/dist/ —Å–æ–∑–¥–∞–Ω—ã)
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–≥—Ä—É–∑–∫–µ

## üì§ –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ SFTP

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å:

1. **backend/** (–≤—Å—é –ø–∞–ø–∫—É)
   - `backend/dist/` - —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
   - `backend/package.json` –∏ `package-lock.json`
   - `backend/uploads/` (–ø–∞–ø–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å)

2. **frontend/dist/** (—Ç–æ–ª—å–∫–æ –ø–∞–ø–∫—É dist)
   - –í—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `frontend/dist/`

3. **photo/** (–µ—Å–ª–∏ –µ—Å—Ç—å –ª–æ–≥–æ—Ç–∏–ø—ã –∫—É—Ä—Å–æ–≤)

### –ö–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å:

**–í–∞—Ä–∏–∞–Ω—Ç 1: FileZilla –∏–ª–∏ WinSCP**
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SFTP
- –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–∞–ø–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–æ–±—ã—á–Ω–æ `/home/container/`)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (scp)**
```bash
scp -r backend username@your-server.com:/home/container/
scp -r frontend/dist username@your-server.com:/home/container/frontend/
scp -r photo username@your-server.com:/home/container/
```

## ‚öôÔ∏è –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
PORT=5000
MONGODB_URI=mongodb+srv://lifefo2016_db_user:z7ILr21RiccZJgqH@cluster0.jh4nq6b.mongodb.net/kvantorium?retryWrites=true&w=majority
JWT_SECRET=–≤–∞—à-—Å–ª—É—á–∞–π–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
NODE_ENV=production
FRONTEND_URL=http://–≤–∞—à-–¥–æ–º–µ–Ω.com
```

**–í–∞–∂–Ω–æ:** 
- –í Connection String —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `kvantorium`
- –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∑–∞–º–µ–Ω–∏—Ç–µ `kvantorium` –Ω–∞ –Ω—É–∂–Ω–æ–µ

**–í–∞–∂–Ω–æ:**
- –ó–∞–º–µ–Ω–∏—Ç–µ `MONGODB_URI` –Ω–∞ –≤–∞—à—É —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB
- –ó–∞–º–µ–Ω–∏—Ç–µ `JWT_SECRET` –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
- –ó–∞–º–µ–Ω–∏—Ç–µ `FRONTEND_URL` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd backend
npm install --production
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–ø–∫–∏:

```bash
mkdir -p backend/uploads
mkdir -p photo
```

## üöÄ –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–∞

### –î–ª—è Pterodactyl –ø–∞–Ω–µ–ª–∏:

1. **MAIN FILE:** `backend/dist/server.js`

2. **–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
if [[ -f package.json ]]; then /usr/local/bin/npm install; fi
/usr/local/bin/node backend/dist/server.js
```

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏:**
   - `NODE_ENV=production`
   - `PORT` (–æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - `MONGODB_URI` - –≤–∞—à–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB
   - `JWT_SECRET` - –≤–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
   - `FRONTEND_URL` - URL –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üîç –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `http://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/health`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è: `{"status":"OK","message":"Server is running"}`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `http://–≤–∞—à-–¥–æ–º–µ–Ω.com`
   - –î–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üë§ –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MongoDB** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
db.users.updateOne(
  {username: "–≤–∞—à_–ª–æ–≥–∏–Ω"}, 
  {$set: {role: "admin"}}
)
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB Compass –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–ª–∏–µ–Ω—Ç.

## üìã –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```
/home/container/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ dist/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.js
‚îÇ   ‚îú‚îÄ‚îÄ uploads/
‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json
‚îÇ   ‚îî‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ dist/
‚îÇ       ‚îú‚îÄ‚îÄ index.html
‚îÇ       ‚îî‚îÄ‚îÄ assets/
‚îî‚îÄ‚îÄ photo/
```

## ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `backend/dist/server.js` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### MongoDB –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `MONGODB_URI` –≤ `.env`
- –î–ª—è MongoDB Atlas: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –∞–¥—Ä–µ—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ whitelist
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `frontend/dist/` –∑–∞–≥—Ä—É–∂–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `index.html` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ!

